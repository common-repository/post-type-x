/*!
 impleCode Admin scripts v1.0.0 - 2018-12
 Adds appropriate scripts to admin settings
 (c) 2019 impleCode - https://implecode.com
 */
(function(e,t,r,o,k,h){var m=r.createElement;var f=t.InspectorControls;var C=o.SelectControl;var A=o.TextControl;var E=o.Panel;var S=o.PanelBody;var N=o.PanelRow;e.registerBlockType("ic-epc/show-categories",{title:ic_epc_blocks.strings.show_categories,icon:"networking",category:"ic-epc-block-cat",attributes:{category:{type:"array",default:[],items:{type:"integer"}},orderby:{type:"string",default:"ID"},order:{type:"string",default:"ASC"},archive_template:{type:"string",default:ic_epc_blocks.archive_template_def},per_row:{type:"string",default:ic_epc_blocks.per_row_def}},edit(t){var e={category:t.attributes.category,orderby:t.attributes.orderby,order:t.attributes.order,archive_template:t.attributes.archive_template,per_row:t.attributes.per_row};var r=t.attributes.category;var o=t.attributes.orderby;var c=t.attributes.order;var i=t.attributes.archive_template;var a=t.attributes.per_row;var s=[];var l=h.useSelect(e=>e("core").getEntityRecords("taxonomy","al_product-cat",{per_page:-1}));if(l){s=[{value:0,label:ic_epc_blocks.strings.all}];l.forEach(e=>{s.push({value:e.id,label:e.name+" ("+e.count+")"})})}var n=ic_epc_blocks.category_orderby_options;var p=ic_epc_blocks.order_options;var _=ic_epc_blocks.template_options;function b(e){t.setAttributes({category:e})}function d(e){t.setAttributes({orderby:e})}function u(e){t.setAttributes({order:e})}function g(e){t.setAttributes({archive_template:e})}function y(e){t.setAttributes({per_row:e})}var v="";if(s){v=m(C,{multiple:"multiple",label:ic_epc_blocks.strings.select_categories,value:r,options:s,onChange:b})}else{v=ic_epc_blocks.strings.loading}var w=[m(f,{key:"ic-epc-show-categories-block-controls"},m(S,{title:ic_epc_blocks.strings.by_category,className:"ic-panel-body",initialOpen:r},v),m(S,{title:ic_epc_blocks.strings.sort_limit,className:"ic-panel-body",initialOpen:true},m(C,{label:ic_epc_blocks.strings.select_orderby,value:o,type:"dropdown",options:n,onChange:d}),m(C,{label:ic_epc_blocks.strings.select_order,value:c,type:"dropdown",options:p,onChange:u}),m(C,{label:ic_epc_blocks.strings.select_template,value:i,type:"dropdown",options:_,onChange:g}),m(A,{label:ic_epc_blocks.strings.select_perrow,value:a,type:"number",onChange:y})))];if(r.length!==0){w.push(m(k,{key:"ic-epc-show-categories-server-side-renderer",block:"ic-epc/show-categories",attributes:e}))}else{w.push(m(E,{header:ic_epc_blocks.strings.choose_categories,key:"ic-epc-show-categories-block-panel"},m(S,{title:ic_epc_blocks.strings.by_category,className:"ic-panel-body",initialOpen:false},m(N,{},v))))}return w},save(){return null}})})(window.wp.blocks,window.wp.blockEditor,window.wp.element,window.wp.components,window.wp.serverSideRender,window.wp.data);